"use strict";(self["webpackChunkbackground_management_system"]=self["webpackChunkbackground_management_system"]||[]).push([[173],{73173:function(e,s,a){a.r(s),a.d(s,{default:function(){return p}});var t=function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("div",{staticClass:"login-container"},[a("form",[a("h2",[e._v("登录页面")]),a("div",{staticClass:"form-item"},[e._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"form-input",attrs:{type:"text"},domProps:{value:e.username},on:{blur:e.checkName,input:function(s){s.target.composing||(e.username=s.target.value)}}}),a("span",{staticClass:"form-item-end"})]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.u_falg,expression:"u_falg"}],staticClass:"form-item-erro",on:{blur:e.checkName}},[e._v(" 用户名格式出错 ")]),a("div",{staticClass:"form-item"},[e._m(1),"checkbox"===(e.viewable?"text":"password")?a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.password)?e._i(e.password,null)>-1:e.password},on:{change:function(s){var a=e.password,t=s.target,r=!!t.checked;if(Array.isArray(a)){var n=null,o=e._i(a,n);t.checked?o<0&&(e.password=a.concat([n])):o>-1&&(e.password=a.slice(0,o).concat(a.slice(o+1)))}else e.password=r}}}):"radio"===(e.viewable?"text":"password")?a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-input",attrs:{type:"radio"},domProps:{checked:e._q(e.password,null)},on:{change:function(s){e.password=null}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-input",attrs:{type:e.viewable?"text":"password"},domProps:{value:e.password},on:{input:function(s){s.target.composing||(e.password=s.target.value)}}}),a("span",{staticClass:"form-item-end",on:{click:e.showpassword}},[a("i",{staticClass:"el-icon-view"})])]),a("button",{staticClass:"form-button",attrs:{type:"button"},on:{click:e.login}},[e._v("登录")])]),a("iframe",{attrs:{src:"",frameborder:"0",name:"frameName"}})])},r=[function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("span",{staticClass:"svg-container"},[a("i",{staticClass:"el-icon-user-solid"})])},function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("span",{staticClass:"svg-container"},[a("i",{staticClass:"el-icon-lock"})])}],n=a(16198),o=(a(74916),a(15306),a(67212)),i=a.n(o),c=a(5250),l={name:"Login",data:function(){return{username:"",u_falg:!1,password:"",viewable:!1}},methods:{showpassword:function(){this.viewable=!this.viewable},checkName:function(){this.username.length<3||this.username.length>10?this.u_falg=!0:this.u_falg=!1},login:function(){var e=this;return(0,n.Z)(i().mark((function s(){var a;return i().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a={username:e.username,password:e.password},s.next=3,(0,c.Z)("/user","POST",a).then((function(e){localStorage.setItem("token",e.data.token)}));case 3:e.$router.push({name:"home"});case 4:case"end":return s.stop()}}),s)})))()}},mounted:function(){"login"!==localStorage.token&&"admin"!==localStorage.token||this.$router.replace({path:"/home"})}},u=l,m=a(1001),d=(0,m.Z)(u,t,r,!1,null,"c0982740",null),p=d.exports}}]);
//# sourceMappingURL=173-legacy.da8b6388.js.map